{% extends "registry/_base.html" %}

{% macro render_nav(pages) %}
  <ul>
  {% for page in pages %}
    <li {% if page.path == active_page %}class="active"{% endif %}>
      <a {% if page.path is not none %}href="{{url_for('docs', path=page.path)}}"{% endif %}>{{page.name}}</a>
    </li>
    {% if page.subs %}
      {{ render_nav(page.subs) }}
    {% endif %}
  {% endfor %}
  </ul>
{% endmacro %}

{% block nav_links %}
  <h3>Node.py Documentation</h3>
  {{ render_nav(pages) }}
  <hr/>
  <h3>Table of Contents</h3>
  {{ toc|safe }}
{% endblock %}
{% block content %}
  {{ content|safe }}
{% endblock %}
